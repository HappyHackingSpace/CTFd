{% extends "base.html" %}

{% set _is_home = request.path in ["/", "/index"] %}

{% block content %}
  {% if _is_home %}
    <section class="osint-hero">
      {# ── Scan line sweep ── #}
      <div class="osint-hero__scan" aria-hidden="true"></div>

      {# ── Top HUD — surveillance camera overlay ── #}
      <div class="osint-hud-top" aria-hidden="true">
        <div class="osint-hud-top__left">
          <div class="osint-hud-cam">
            CAM-0021
            <span class="osint-hud-rec">
              <span class="osint-hud-rec__dot"></span>
              <span class="osint-hud-rec__text">REC</span>
            </span>
          </div>
          <div class="osint-hud-ts">2026.02.13&nbsp;&nbsp;14:37:22.048</div>
          <div class="osint-hud-coords">LAT: 41.0082&nbsp;&nbsp;LON: 28.9784</div>
        </div>
        <div class="osint-hud-top__right">
          <div class="osint-hud-system">ROOT ACCESS</div>
          <div class="osint-hud-status">SYSTEM STATUS: ACTIVE</div>
        </div>
      </div>

      {# ── Side HUD readouts ── #}
      <div class="osint-hud-side osint-hud-side--left" aria-hidden="true">
        +0.0/VCM<br>
        +0.1/VCM<br><br>
        INPUT_1<br>
        INPUT_2<br>
        INPUT_3<br>
        INPUT_4<br><br>
        ADMN_CONTROL<br>
        [LOCKED]
      </div>
      <div class="osint-hud-side osint-hud-side--right" aria-hidden="true">
        INPUT_FEEDS<br>
        TK_009.557_-1<br>
        TK_001.193_20<br>
        CTL_CODE [423]<br>
        [LINK]<br>
        SYS.ONLINE +0092
      </div>

      {# ── Main content ── #}
      <div class="container osint-hero__container">
        <div class="osint-hero__grid">
          <div class="osint-hero__left">
            {# RELEVANT classification badge #}
            <div class="osint-kicker">
              <span class="osint-kicker__dot" aria-hidden="true"></span>
              <span class="osint-kicker__text">RELEVANT</span>
            </div>

            <h1 class="osint-title osint-title--glitch" data-text="{{ Configs.ctf_name }}">{{ Configs.ctf_name }}</h1>

            <p class="osint-subtitle">
              Observe. Correlate. Confirm.
            </p>

            <div class="osint-ssn" aria-hidden="true">
              <span class="osint-ssn__number">379-14-4023</span>
              <span class="osint-ssn__label">SUBJECT OF INTEREST</span>
            </div>

            <div class="osint-actions">
              <a class="btn btn-primary osint-btn" href="{{ url_for('challenges.listing') }}">
                Start hunting
              </a>
              <a class="btn btn-outline-secondary osint-btn osint-btn--ghost" href="{{ url_for('scoreboard.listing') }}">
                Scoreboard
              </a>
              {% if not authed() and registration_visible() %}
                <a class="btn btn-outline-secondary osint-btn osint-btn--ghost" href="{{ url_for('auth.register') }}">
                  Register
                </a>
              {% endif %}
            </div>

            <div class="osint-tags" aria-label="Challenge themes">
              <span class="osint-tag">SOCMINT</span>
              <span class="osint-tag">GEOINT</span>
              <span class="osint-tag">IMINT</span>
              <span class="osint-tag">TRACE</span>
              <span class="osint-tag">LINK</span>
            </div>

            {# Data acquisition bar #}
            <div class="osint-data-bar" aria-hidden="true">
              <div class="osint-data-bar__label">DATA ACQUISITION_</div>
              <div class="osint-data-bar__track">
                <div class="osint-data-bar__fill"></div>
              </div>
            </div>
          </div>

          <aside class="osint-hero__right">
            <div class="osint-card osint-card--glass">
              <div class="osint-card__header">
                <span class="osint-card__pill">intel feed</span>
                <span class="osint-card__status">online</span>
              </div>
              <div class="osint-terminal" role="region" aria-label="Intel feed">
                <div class="osint-terminal__line"><span class="osint-terminal__prompt">$</span> whois happyhacking.space</div>
                <div class="osint-terminal__line osint-terminal__muted">registrant: REDACTED</div>
                <div class="osint-terminal__line"><span class="osint-terminal__prompt">$</span> exiftool image.jpg | grep -i gps</div>
                <div class="osint-terminal__line osint-terminal__muted">GPSLatitude: ...</div>
                <div class="osint-terminal__line"><span class="osint-terminal__prompt">$</span> pivot -&gt; correlate -&gt; verify</div>
                <div class="osint-terminal__line osint-terminal__muted">rules: don't guess. prove.</div>
              </div>
            </div>
          </aside>
        </div>
      </div>

      {# ── Bottom HUD data ── #}
      <div class="osint-hud-bottom" aria-hidden="true">
        <div class="osint-hud-bottom__left">
          PROBABILITY: 0.9847<br>
          CORRELATION: HIGH<br>
          NODES: 2,847 INDEXED
        </div>
        <div class="osint-hud-bottom__right">
          <span class="hud-masked">IDENTIFIERS: MASKED</span><br>
          <span class="hud-flag">FLAG{??????}</span><br>
          <span class="hud-threat">THREAT LEVEL: ELEVATED</span>
        </div>
      </div>

      {# ── Bottom bar ── #}
      <div class="osint-hud-bar" aria-hidden="true">
        <span class="osint-hud-bar__left">happyhacking.space</span>
        <span class="osint-hud-bar__right">HHS // 2026</span>
      </div>
    </section>
  {% else %}
    <div class="container">
      {{ content | safe }}
    </div>
  {% endif %}
{% endblock %}

{% block scripts %}
  {{ Assets.js("assets/js/page.js") }}
{% endblock %}
